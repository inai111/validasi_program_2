import{createApp as s}from"https://unpkg.com/vue@3/dist/vue.esm-browser.js";s({data(){return{user:{},roles:[],myModal:{}}},mounted(){this.initModal()},methods:{initModal(){this.myModal={modal:new bootstrap.Modal(document.querySelector("#editUser")),showModal:function(){this.modal.show()},closeModal:function(){this.modal.hide()}}},setUser(o){fetch(`/user/${o}/resource`,{headers:{"content-type":"application/json",accept:"application/json"}}).then(e=>e.json()).then(e=>{e.roles&&(this.roles=e.roles.map(t=>t.id)),delete e.roles,this.user=e,this.myModal.showModal()})},updateUser(){fetch(`/user/${this.user.id}/roles`,{method:"PUT",headers:{"content-type":"application/json",accept:"application/json","x-csrf-token":document.querySelector("meta[name=csrf-token]").content},body:JSON.stringify({roles:this.roles})}).then(o=>o.json()).then(o=>{this.myModal.closeModal(),location.reload()})}}}).mount("#editRoleUserModal");
